{"remainingRequest":"/home/desenvolvedor/Documentos/curso-vue/stock-trader/node_modules/babel-loader/lib/index.js!/home/desenvolvedor/Documentos/curso-vue/stock-trader/node_modules/eslint-loader/index.js??ref--13-0!/home/desenvolvedor/Documentos/curso-vue/stock-trader/src/store/index.js","dependencies":[{"path":"/home/desenvolvedor/Documentos/curso-vue/stock-trader/src/store/index.js","mtime":1576878546735},{"path":"/home/desenvolvedor/Documentos/curso-vue/stock-trader/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/desenvolvedor/Documentos/curso-vue/stock-trader/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/desenvolvedor/Documentos/curso-vue/stock-trader/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHN0b2NrczogW3sKICAgICAgaWQ6IDEsCiAgICAgIG5hbWU6ICdCTVcnLAogICAgICBwcmljZTogMTEwCiAgICB9LCB7CiAgICAgIGlkOiAyLAogICAgICBuYW1lOiAnR29vZ2xlJywKICAgICAgcHJpY2U6IDIwMAogICAgfSwgewogICAgICBpZDogMywKICAgICAgbmFtZTogJ0FwcGxlJywKICAgICAgcHJpY2U6IDI4MAogICAgfSwgewogICAgICBpZDogNCwKICAgICAgbmFtZTogJ1R3aXR0ZXInLAogICAgICBwcmljZTogODMKICAgIH1dLAogICAgb3JkZXJzOiBbewogICAgICBpZDogMSwKICAgICAgcHJpY2U6IDExMCwKICAgICAgcXVhbnRpdHk6IDE1CiAgICB9XSwKICAgIGZ1bmRzOiAxMDAwCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGJ1eVN0b2NrOiBmdW5jdGlvbiBidXlTdG9jayhzdGF0ZSwgb3JkZXIpIHsKICAgICAgc3RhdGUub3JkZXJzLnB1c2gob3JkZXIpOwogICAgICB0aGlzLmNvbW1pdCgndXBkYXRlRnVuZHMnLCAtb3JkZXIucHJpY2UgKiBvcmRlci5xdWFudGl0eSk7CiAgICB9LAogICAgc2VsbFN0b2NrOiBmdW5jdGlvbiBzZWxsU3RvY2soc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIG9yZGVyID0gX3JlZi5vcmRlciwKICAgICAgICAgIHF1YW50aXR5ID0gX3JlZi5xdWFudGl0eTsKICAgICAgc3RhdGUub3JkZXJzID0gc3RhdGUub3JkZXJzLm1hcChmdW5jdGlvbiAobykgewogICAgICAgIGlmIChvcmRlci5pZCA9PSBvLmlkKSBvLnF1YW50aXR5IC09IHF1YW50aXR5OwogICAgICAgIHJldHVybiBvOwogICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKG8pIHsKICAgICAgICByZXR1cm4gby5xdWFudGl0eSA+IDA7CiAgICAgIH0pOwogICAgICB0aGlzLmNvbW1pdCgndXBkYXRlRnVuZHMnLCBxdWFudGl0eSAqIG9yZGVyLnByaWNlKTsKICAgIH0sCiAgICB1cGRhdGVGdW5kczogZnVuY3Rpb24gdXBkYXRlRnVuZHMoc3RhdGUsIHByaWNlKSB7CiAgICAgIHN0YXRlLmZ1bmRzICs9IHByaWNlOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKCiAgICAgIGNvbnNvbGUubG9nKHN0YXRlLmZ1bmRzKTsKICAgIH0sCiAgICBzZXREYXRhOiBmdW5jdGlvbiBzZXREYXRhKHN0YXRlLCBfcmVmMikgewogICAgICB2YXIgb3JkZXJzID0gX3JlZjIub3JkZXJzLAogICAgICAgICAgc3RvY2tzID0gX3JlZjIuc3RvY2tzLAogICAgICAgICAgZnVuZHMgPSBfcmVmMi5mdW5kczsKICAgICAgc3RhdGUub3JkZXJzID0gb3JkZXJzOwogICAgICBzdGF0ZS5zdG9ja3MgPSBzdG9ja3M7CiAgICAgIHN0YXRlLmZ1bmRzID0gZnVuZHM7CiAgICB9LAogICAgZ2VuZXJhdGU6IGZ1bmN0aW9uIGdlbmVyYXRlKCkgewogICAgICB0aGlzLnN0YXRlLnN0b2NrcyA9IHRoaXMuc3RhdGUuc3RvY2tzLm1hcChmdW5jdGlvbiAoc3RvY2spIHsKICAgICAgICBzdG9jay5wcmljZSA9IE1hdGgucm91bmQoKE1hdGgucmFuZG9tKCkgLSAwLjUpICogMjUgKyBzdG9jay5wcmljZSk7CiAgICAgICAgcmV0dXJuIHN0b2NrOwogICAgICB9KTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGJ1eVN0b2NrOiBmdW5jdGlvbiBidXlTdG9jayhfcmVmMywgb3JkZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKCiAgICAgIGlmIChvcmRlci5xdWFudGl0eSA8PSAwKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdRdWFudGlkYWRlIGludsOhbGlkYSEnKTsKICAgICAgfQoKICAgICAgaWYgKG9yZGVyLnByaWNlICogb3JkZXIucXVhbnRpdHkgPiB0aGlzLnN0YXRlLmZ1bmRzKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTYWxkbyBpbnN1ZmljaWVudGUhJyk7CiAgICAgIH0KCiAgICAgIGNvbW1pdCgnYnV5U3RvY2snLCBvcmRlcik7CiAgICB9LAogICAgc2VsbFN0b2NrOiBmdW5jdGlvbiBzZWxsU3RvY2soX3JlZjQsIF9yZWY1KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQ7CiAgICAgIHZhciBvcmRlciA9IF9yZWY1Lm9yZGVyLAogICAgICAgICAgcXVhbnRpdHkgPSBfcmVmNS5xdWFudGl0eTsKCiAgICAgIGlmIChxdWFudGl0eSA8PSAwKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdRdWFudGlkYWRlIGludsOhbGlkYSEnKTsKICAgICAgfQoKICAgICAgaWYgKG9yZGVyLnF1YW50aXR5IDwgcXVhbnRpdHkpIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ZvY8OqIG7Do28gdGVtIGVzc2EgcXVhbnRpZGFkZSBkZSBhw6fDtWVzIScpOwogICAgICB9CgogICAgICBjb21taXQoJ3NlbGxTdG9jaycsIHsKICAgICAgICBvcmRlcjogb3JkZXIsCiAgICAgICAgcXVhbnRpdHk6IHF1YW50aXR5CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWREYXRhOiBmdW5jdGlvbiBsb2FkRGF0YShfcmVmNikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjYuY29tbWl0OwogICAgICBWdWUucHJvdG90eXBlLiRodHRwLmdldCgnc3RvY2tzLmpzb24nKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIGlmIChkYXRhKSBjb21taXQoJ3NldERhdGEnLCBkYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VuZERhdGE6IGZ1bmN0aW9uIHNlbmREYXRhKCkgewogICAgICBWdWUucHJvdG90eXBlLiRodHRwLnB1dCgnc3RvY2tzLmpzb24nLCB0aGlzLnN0YXRlKTsKICAgIH0sCiAgICBnZW5lcmF0ZTogZnVuY3Rpb24gZ2VuZXJhdGUoX3JlZjcpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY3LmNvbW1pdDsKICAgICAgY29tbWl0KCdnZW5lcmF0ZScpOwogICAgfQogIH0sCiAgbW9kdWxlczoge30sCiAgZ2V0dGVyczogewogICAgZ2V0T3JkZXJzOiBmdW5jdGlvbiBnZXRPcmRlcnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLm9yZGVycy5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICBvLm5hbWUgPSBzdGF0ZS5zdG9ja3MuZmluZChmdW5jdGlvbiAocykgewogICAgICAgICAgcmV0dXJuIHMuaWQgPT0gby5pZDsKICAgICAgICB9KS5uYW1lOwogICAgICAgIHJldHVybiBvOwogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/home/desenvolvedor/Documentos/curso-vue/stock-trader/src/store/index.js"],"names":["Vue","Vuex","use","Store","state","stocks","id","name","price","orders","quantity","funds","mutations","buyStock","order","push","commit","sellStock","map","o","filter","updateFunds","console","log","setData","generate","stock","Math","round","random","actions","Error","loadData","prototype","$http","get","then","res","data","sendData","put","modules","getters","getOrders","find","s"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n    state: {\n        stocks: [\n            {\n                id: 1, name: 'BMW', price: 110\n            },\n            {\n                id: 2, name: 'Google', price: 200\n            },\n            {\n                id: 3, name: 'Apple', price: 280\n            }, \n            {\n                id: 4, name: 'Twitter', price: 83\n            }\n        ],\n        orders: [\n            {\n                id: 1, price: 110, quantity: 15\n            }\n        ],\n        funds: 1000\n    },\n    mutations: {\n        buyStock: function(state, order) {\n            state.orders.push(order);\n            this.commit('updateFunds', -order.price*order.quantity)\n        },\n        sellStock: function(state, {order, quantity}) {\n            state.orders = state.orders.map(o => {\n                if(order.id == o.id)\n                    o.quantity-=quantity\n                return o\n            }).filter(o => {\n                return o.quantity>0\n            });\n            this.commit('updateFunds', quantity*order.price)\n        },\n        updateFunds: function(state, price) {\n            state.funds+=price;\n            // eslint-disable-next-line\n            console.log(state.funds)\n        },\n        setData: function(state, {orders, stocks, funds}) {\n            state.orders = orders;\n            state.stocks = stocks;\n            state.funds = funds;\n        },\n        generate: function() {\n            this.state.stocks = this.state.stocks.map(stock => {\n                stock.price = Math.round(((Math.random()-0.5)*25)+stock.price);\n                return stock;\n            })\n        }\n    },\n    actions: {\n        buyStock: function({commit}, order) {\n            if(order.quantity<=0) {\n                throw new Error('Quantidade inválida!');\n            }\n            if(order.price*order.quantity>this.state.funds) {\n                throw new Error('Saldo insuficiente!');\n            }\n            commit('buyStock', order);\n        },\n        sellStock: function({commit}, {order, quantity}) {\n            if(quantity<=0) {\n                throw new Error('Quantidade inválida!');\n            }\n            if(order.quantity<quantity) {\n                throw new Error('Você não tem essa quantidade de ações!');\n            }\n            commit('sellStock', {order, quantity});\n        },\n        loadData: function({ commit }) {\n            Vue.prototype.$http.get('stocks.json').then(\n                res => {\n                    const data = res.data;\n                    if(data)\n                        commit('setData', data);\n                }\n            )\n        },\n        sendData: function() {\n            Vue.prototype.$http.put('stocks.json', this.state);\n        },\n        generate: function({ commit }) {\n            commit('generate');\n        }\n    },\n    modules: {\n\n    },\n    getters: {\n        getOrders: function(state) {\n            return state.orders.map(\n                o => {\n                    o.name = state.stocks.find(s => s.id == o.id).name;\n                    return o;\n                }\n            )\n        }\n    }\n})\n"]}]}